<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parallax Scrolling Example</title>
    <link rel="stylesheet" href="styles.css">

    <style>
        /* body, html {
          height: 100%;
          margin: 0;
          font-family: Arial, sans-serif;
          overflow: hidden;
        } */
        
        .parallax {
          perspective: 1px;
          height: 100vh;
          overflow-x: hidden;
          overflow-y: auto;
          transform-style: preserve-3d;
        }
        
        .layer {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          height: 100vh;
          transform-style: preserve-3d;
          background-attachment: fixed;
          background-position: center;
          background-repeat: no-repeat;
          background-size: cover;
        }
        
        .layer1 {
          background-image: url('bg1.jpg');
          /* transform: translateZ(-1px) scale(2); */
        }
        
        .layer2 {
          background-image: url('bg2.jpg');
          /* transform: translateZ(-2px) scale(2); */
        }
        
        .layer3 {
          background-image: url('bg3.jpg');
          /* transform: translateZ(-1px) scale(2); */
        }
        
        .layer4 {
          background-image: url('bg4.jpg');
          /* transform: translateZ(-1px) scale(2); */
        }
        
        .layer5 {
          background-image: url('bg5.jpg');
          /* transform: translateZ(-1px) scale(2); */
        }
        
        .content {
          position: relative;
          z-index: 1;
          color: #fff;
          text-align: center;
          padding: 20px;
          background-color: rgba(0, 0, 0, 0.5);
          border-radius: 5px;
        }
    </style>
</head>

<body>
    <div class="parallax">
        <section class="layer layer1">
            <div class="content">
                <h2>Background 1</h2>
                <p>This is the content for background 1.</p>
            </div>
        </section>
        <section class="layer layer2">
            <div class="content">
                <h2>Background 2</h2>
                <p>This is the content for background 2.</p>
            </div>
        </section>
        <section class="layer layer3">
            <div class="content">
                <h2>Background 3</h2>
                <p>This is the content for background 3.</p>
            </div>
        </section>
        <section class="layer layer4">
            <div class="content">
                <h2>Background 4</h2>
                <p>This is the content for background 4.</p>
            </div>
        </section>
        <section class="layer layer5">
            <div class="content">
                <h2>Background 5</h2>
                <p>This is the content for background 5.</p>
            </div>
        </section>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js"></script>
    <script>
      gsap.registerPlugin(ScrollTrigger);

      gsap.utils.toArray('.layer').forEach((layer, i) => {
        const depth = i * -0.1; // 每层的视差深度，可以根据需要调整
        gsap.to(layer, {
          scrollTrigger: {
            trigger: layer,
            start: "top bottom", // 当层顶部进入底部时开始
            end: "bottom top", // 当层底部离开顶部时结束
            scrub: true // 平滑过渡效果
          },
          y: depth * 100, // 基于深度的垂直位移
          ease: "none" // 线性动画
        });
      });
    </script>
</body>

</html>
</html>